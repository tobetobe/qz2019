<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>闭包！</title>
  </head>
  <body>
    <button id="btn" onclick="AutoIncrease()">
      1
    </button>
    <script>
      var AutoIncrease = function() {
        console.log(`hello`);
        return (function() {
          let x = document.getElementById("btn").innerHTML;
          console.log(x);
          document.getElementById("btn").innerHTML = parseInt(x) + 1;
        })();
      };
      function _Auto() {
        let a = 0;
        return function() {
          a += 1;
          return a;
        };
      }

      let a1 = _Auto();

      for (let i = 0; i < 10; i++) {
        console.log(a1());
      }

      function create_counter(initial) {
        var x = initial || 0;
        return {
          inc: function() {
            x += 1;
            return x;
          }
        };
      }

      var c1 = create_counter();

      for (let i = 0; i < 10; i++) {
        console.log(c1.inc()); // 1
      }

      //WTF!!
      var Add = (i = 0) => {
        return () => ++i;
      };
      var v = Add();
    </script>
  </body>
</html>
